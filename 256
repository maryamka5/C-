// ‚ëç¨á«ï¥â á®¯à®â¨¢«¥¨¥
// à¥ªãàá¨¢®© n-§¢¥®© í«¥ªâà¨ç¥áª®© æ¥¯¨
#include <stdio.h>
#include <conio.h>

float r1,r2,r3; // ¢¥«¨ç¨ë á®¯à®â¨¢«¥¨©,
                // ¨§ ª®â®àëå á®áâ®¨â æ¥¯ì

// ¢ëç¨á«ï¥â á®¯à®â¨¢«¥¨¥ æ¥¯¨ n-£® ¯®àï¤ª 
float rcep(int n)
{
   float r; // á®¯à®â¨¢«¥¨¥ æ¥¯¨ (n-1)-£® ¯®àï¤ª 

   if (n == 1)
      return(r1 + r2 + r3);
   else
   {
      r = rcep(n-1);
      return (r1 + r2*r/(r2+r) + r3);
   }
}

void main()
{
     int n;          // ª®«¨ç¥áâ¢® §¢¥ì¥¢ (¯®àï¤®ª) æ¥¯¨
     float rc;       // á®¯à®â¨¢«¥¨¥ æ¥¯¨

     puts("\n‚ëç¨á«¥¨¥ á®¯à®â¨¢«¥¨ï í«¥ªâà¨ç¥áª®© æ¥¯¨");
     puts("‚¢¥¤¨â¥ ¢¥«¨ç¨ë á®¯à®â¨¢«¥¨© (Ž¬):");
     printf("r1 ->");
     scanf("%f", &r1);
     printf("r2 ->");
     scanf("%f", &r2);
     printf("r3 ->");
     scanf("%f", &r3);
     printf("®àï¤®ª æ¥¯¨ ->");
     scanf("%i", &n);

     rc = rcep(n);// ¢¥«¨ç¨ë á®¯à®â¨¢«¥¨© ¯¥à¥¤ îâáï
                  // äãªæ¨¨ rcep ç¥à¥§ £«®¡ «ìë¥ ¯¥à¥¬¥ë¥

     printf("‘®¯à®â¨¢«¥¨¥ æ¥¯¨:");
     if (rc > 100)
     {
         rc /= 1000;
         printf("%5.2f ªŽ¬\n", rc);
     }
     else
         printf("%5.2f Ž¬\n", rc);

     puts("\n„«ï § ¢¥àè¥¨ï  ¦¬¨â¥ <Enter>");
     getch();
}
